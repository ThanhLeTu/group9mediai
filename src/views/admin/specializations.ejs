<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Quáº£n lÃ½ chuyÃªn khoa</title>
  <link rel="stylesheet" href="/static/assets/css/style.css">
  <style>
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { padding: 10px; border: 1px solid #ccc; text-align: left; }
    form { margin-bottom: 20px; }
    input, textarea, button { padding: 8px; margin-top: 5px; width: 100%; }
    .actions { display: flex; gap: 10px; }
  </style>
</head>
<body>
  <h1>ğŸ“š Quáº£n lÃ½ chuyÃªn khoa</h1>

  <!-- Form thÃªm / cáº­p nháº­t -->
  <h2><span id="form-title">ThÃªm chuyÃªn khoa</span></h2>
  <form id="specialization-form" method="POST" action="/admin/specializations">
    <input type="hidden" name="id" id="spec-id">

    <label for="name">TÃªn chuyÃªn khoa:</label>
    <input type="text" name="name" id="spec-name" required>

    <label for="description">MÃ´ táº£:</label>
    <textarea name="description" id="spec-description"></textarea>

    <button type="submit">ğŸ’¾ LÆ°u</button>
  </form>

  <hr>

  <!-- Danh sÃ¡ch chuyÃªn khoa -->
  <h2>Danh sÃ¡ch chuyÃªn khoa</h2>
  <% if (specializations.length === 0) { %>
    <p>ChÆ°a cÃ³ chuyÃªn khoa nÃ o.</p>
  <% } else { %>
    <table>
      <thead>
        <tr>
          <th>TÃªn chuyÃªn khoa</th>
          <th>MÃ´ táº£</th>
          <th>HÃ nh Ä‘á»™ng</th>
        </tr>
      </thead>
      <tbody>
        <% specializations.forEach(spec => { %>
          <tr>
            <td><%= spec.name %></td>
            <td><%= spec.description || '' %></td>
            <td class="actions">
              <button type="button"
                      onclick="editSpec('<%= spec._id %>', '<%= spec.name %>', `<%= spec.description %>`)">âœï¸ Sá»­a</button>

              <form action="/admin/specializations/delete/<%= spec._id %>" method="POST" onsubmit="return confirm('Báº¡n cháº¯c cháº¯n muá»‘n xÃ³a chuyÃªn khoa nÃ y?')">
                <button type="submit">ğŸ—‘ï¸ XÃ³a</button>
              </form>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>

  <script>
    function editSpec(id, name, description) {
      document.getElementById('spec-id').value = id;
      document.getElementById('spec-name').value = name;
      document.getElementById('spec-description').value = description;
      document.getElementById('form-title').textContent = 'Cáº­p nháº­t chuyÃªn khoa';
    }
  </script>
</body>
</html>
